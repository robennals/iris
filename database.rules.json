{
	"rules": {
  	"userPrivate": {
  		"$user": {
  			".read": "$user == auth.uid",
  			".write": "$user == auth.uid"
      }
    },
    "perUser": {
      "$thing": {
        "$user": {
          ".read": "$user == auth.uid",
          ".write": "$user == auth.uid"            
        }
      }
    },
    "special": {
      ".read": false,
      ".write": false,
      "versioncheck": {
        ".read": true
      },
      "userEmail": {
        "$user": {
          ".read": "$user == auth.uid"
        }
      }
    },
    "adminCommunity": {
      ".read": "root.child('special').child('master').child(auth.uid).exists()",
      ".write": false
    },
    "community": {
      ".read": true,
      ".write": false
    },
    "commMember": {
      "$community":{
        ".read": "root.child('special').child('master').child(auth.uid).exists()",
        "$user": {
          ".read": "$user == auth.uid || root.child('special').child('master').child(auth.uid).exists()",
          ".write": "$user == auth.uid || root.child('special').child('master').child(auth.uid).exists()"
        }
      }
    },
    "intake": {
      ".read": "root.child('special').child('master').child(auth.uid).exists()",
      ".write": false
    },
    "group": {
      "$group": {
        ".write": false,
        ".read": "data.child('member').child(auth.uid).exists() || root.child('special').child('master').child(auth.uid).exists()",
      }
    },
    "topic": {
      "$community": {
        ".write": false,
        ".read": true
      }
    },
    "groupAdmin": {
      "$group": {
        ".write": false,
        ".read": "root.child('group').child($group).child('member').child(auth.uid).child('role').val() == 'admin'"
      }
    }
  }
}